# ğŸ¯ æ¨¡å—äºŒï¼šå¤§æ¨¡å‹åŸºç¡€æ¨ç†ä¸æç¤ºè¯å·¥ç¨‹

## ğŸ“š è¯¾ç¨‹æ¦‚è§ˆ

æœ¬æ¨¡å—æ·±å…¥æ¢è®¨å¤§æ¨¡å‹çš„æ¨ç†æœºåˆ¶å’Œæç¤ºè¯å·¥ç¨‹çš„è‰ºæœ¯ã€‚ä½ å°†ä»é›¶å¼€å§‹ç†è§£å¤§æ¨¡å‹å¦‚ä½•ç”Ÿæˆæ–‡æœ¬ï¼ŒæŒæ¡å„ç§è§£ç ç­–ç•¥ï¼Œå¹¶é€šè¿‡**äº¤äº’å¼ Jupyter Notebook æ•™ç¨‹**é€æ­¥å­¦ä¹ å¦‚ä½•è®¾è®¡é«˜æ•ˆã€ç²¾å‡†çš„æç¤ºè¯ï¼Œä»¥æœ€å¤§åŒ–æ¨¡å‹çš„æ€§èƒ½ã€‚

### ğŸ¯ å­¦ä¹ ç›®æ ‡

- é€šè¿‡äº¤äº’å¼å®è·µç†è§£å¤§æ¨¡å‹æ–‡æœ¬ç”Ÿæˆçš„åŸºæœ¬åŸç†å’Œè§£ç ç­–ç•¥
- æŒæ¡OpenAIå®˜æ–¹æ¨èçš„æç¤ºè¯è®¾è®¡åŸåˆ™å’Œæœ€ä½³å®è·µ
- ç†Ÿç»ƒè¿ç”¨æ€ç»´é“¾(CoT)ã€è‡ªæˆ‘åæ€ç­‰é«˜çº§æç¤ºè¯æŠ€å·§
- ç†è§£å¹¶å®è·µå¤§æ¨¡å‹å‡½æ•°è°ƒç”¨ï¼ˆFunction Callingï¼‰æœºåˆ¶
- å­¦ä¼šæç¤ºè¯çš„ç®¡ç†ã€ä¼˜åŒ–å’Œç‰ˆæœ¬æ§åˆ¶
- èƒ½å¤Ÿæ„å»ºå®Œæ•´çš„AIåº”ç”¨ç³»ç»Ÿ

## ğŸ—‚ï¸ é¡¹ç›®ç»“æ„

```
chapter02-llm-prompt/
â”œâ”€â”€ README.md                          # ğŸ“– è¯¾ç¨‹ä¸»æ–‡æ¡£
â”œâ”€â”€ environment.yml                    # ğŸ Condaç¯å¢ƒé…ç½®
â”œâ”€â”€ requirements.txt                   # ğŸ“¦ Pythonä¾èµ–åŒ…
â”‚
â”œâ”€â”€ openai_prompt_jupyter/             # ğŸ“ äº¤äº’å¼æ•™ç¨‹ï¼ˆ**ä»è¿™é‡Œå¼€å§‹**ï¼‰
â”‚   â”œâ”€â”€ INSTALL_GUIDE.md              # ğŸ“‹ å®‰è£…ä½¿ç”¨æŒ‡å—
â”‚   â”œâ”€â”€ setup_env.sh                  # ğŸ”§ ç¯å¢ƒé…ç½®è„šæœ¬
â”‚   â”œâ”€â”€ config.py                     # âš™ï¸ é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ hints.py                      # ğŸ’¡ æ•™å­¦è¾…åŠ©åŠŸèƒ½
â”‚   â”‚
â”‚   â”œâ”€â”€ 00_Tutorial_How-To.ipynb      # ğŸš€ æ•™ç¨‹ä½¿ç”¨æŒ‡å—
â”‚   â”œâ”€â”€ 01_Basic_Prompt_Structure.ipynb        # ğŸ“ åŸºç¡€æç¤ºè¯ç»“æ„
â”‚   â”œâ”€â”€ 02_Being_Clear_and_Direct.ipynb       # ğŸ¯ æ¸…æ™°ç›´æ¥çš„è¡¨è¾¾
â”‚   â”œâ”€â”€ 03_Assigning_Roles_Role_Prompting.ipynb   # ğŸ­ è§’è‰²æ‰®æ¼”æŠ€å·§
â”‚   â”œâ”€â”€ 04_Separating_Data_and_Instructions.ipynb # ğŸ“Š æ•°æ®ä¸æŒ‡ä»¤åˆ†ç¦»
â”‚   â”œâ”€â”€ 05_Formatting_Output_and_Speaking_for_Claude.ipynb # ğŸ“‹ æ ¼å¼åŒ–è¾“å‡º
â”‚   â”œâ”€â”€ 06_Thinking_Step_by_Step.ipynb        # ğŸ§  é€æ­¥æ€è€ƒæŠ€æœ¯
â”‚   â”œâ”€â”€ 07_Using_Examples_Few-Shot_Prompting.ipynb    # ğŸ“š å°‘æ ·æœ¬å­¦ä¹ 
â”‚   â”œâ”€â”€ 08_Avoiding_Hallucinations.ipynb      # âš ï¸ é¿å…æ¨¡å‹å¹»è§‰
â”‚   â”œâ”€â”€ 09_Complex_Prompts_from_Scratch.ipynb # ğŸ—ï¸ å¤æ‚æç¤ºè¯æ„å»º
â”‚   â””â”€â”€ 10_Tool_Use.ipynb             # ğŸ”§ å·¥å…·ä½¿ç”¨å’Œå‡½æ•°è°ƒç”¨
â”‚
â”œâ”€â”€ run_demo.py                        # ğŸ® ç»Ÿä¸€æ¼”ç¤ºå¯åŠ¨å™¨
â”œâ”€â”€ prompt_engineering_demo.py         # ğŸ§ª åŸºç¡€æ¼”ç¤ºä»£ç 
â”‚
â”œâ”€â”€ advanced_prompting/                # ğŸš€ é«˜çº§æç¤ºè¯æŠ€å·§
â”‚   â”œâ”€â”€ chain_of_thought.py           # ğŸ”— æ€ç»´é“¾å®ç°
â”‚   â””â”€â”€ self_reflection.py            # ğŸª è‡ªæˆ‘åæ€æŠ€å·§
â”‚
â”œâ”€â”€ function_calling/                  # ğŸ› ï¸ å‡½æ•°è°ƒç”¨å®æˆ˜
â”‚   â”œâ”€â”€ basic_function_calling.py     # ğŸ”§ åŸºç¡€å‡½æ•°è°ƒç”¨
â”‚   â”œâ”€â”€ weather_assistant.py          # ğŸŒ¤ï¸ å¤©æ°”æŸ¥è¯¢åŠ©æ‰‹
â”‚   â”œâ”€â”€ calculator_agent.py           # ğŸ§® è®¡ç®—å™¨ä»£ç†
â”‚   â””â”€â”€ api_integration.py            # ğŸ”— APIé›†æˆç¤ºä¾‹
â”‚
â”œâ”€â”€ prompt_management/                 # ğŸ“š æç¤ºè¯ç®¡ç†ç³»ç»Ÿ
â”‚   â””â”€â”€  prompt_manager.py             # ğŸ“ æç¤ºè¯ç®¡ç†å™¨
â”‚
â”œâ”€â”€ content_generation/                # âœï¸ å†…å®¹ç”Ÿæˆåº”ç”¨
â”‚   â””â”€â”€ document_generator.py         # ğŸ“„ æ–‡æ¡£ç”Ÿæˆå™¨
â”‚
â”œâ”€â”€ templates/                         # ğŸ“š æç¤ºè¯æ¨¡æ¿åº“
â”‚   â””â”€â”€ business/                     # ğŸ’¼ å•†ä¸šåœºæ™¯æ¨¡æ¿
â”‚       â””â”€â”€ marketing_templates.yaml  # ğŸ“¢ è¥é”€æ¨¡æ¿
â”‚
â”œâ”€â”€ examples/                          # ğŸ¯ å®æˆ˜æ¡ˆä¾‹
â”‚   â””â”€â”€ comprehensive_demo.py         # ğŸŒŸ ç»¼åˆæŠ€æœ¯æ¼”ç¤º
â”‚
â”œâ”€â”€ prompts_best_practice/             # ğŸ’ æœ€ä½³å®è·µæ¡ˆä¾‹
â”‚   â”œâ”€â”€ æç¤ºè¯-æ–‡æœ¬æ¡ˆä¾‹/              # ğŸ“ æ–‡æœ¬å¤„ç†æ¡ˆä¾‹
â”‚   â”œâ”€â”€ æç¤ºè¯-è§†é¢‘æ¡ˆä¾‹/              # ğŸ¬ è§†é¢‘ç”Ÿæˆæ¡ˆä¾‹
â”‚   â”œâ”€â”€ æç¤ºè¯-å›¾è¡¨æ¡ˆä¾‹/              # ğŸ“Š å›¾è¡¨åˆ†ææ¡ˆä¾‹
â”‚   â”œâ”€â”€ æç¤ºè¯-æŠ€å·§/                  # ğŸ’¡ é«˜çº§æŠ€å·§
â”‚   â”œâ”€â”€ æç¤ºè¯è¯„åˆ¤/                   # âš–ï¸ è´¨é‡è¯„ä¼°
â”‚   â”œâ”€â”€ æç¤ºè¯ä¼˜åŒ–/                   # ğŸ”§ ä¼˜åŒ–æ–¹æ³•
â”‚   â””â”€â”€ æç¤ºè¯ç”Ÿæˆ/                   # ğŸ¨ è‡ªåŠ¨ç”Ÿæˆ
â”‚
â””â”€â”€ prompts_storage/                   # ğŸ’¾ æç¤ºè¯å­˜å‚¨
    â”œâ”€â”€ templates.json                # ğŸ—‚ï¸ æ¨¡æ¿å­˜å‚¨
    â””â”€â”€ executions.json               # ğŸ“Š æ‰§è¡Œè®°å½•
```

## ğŸš€ å­¦ä¹ è·¯å¾„ï¼ˆé›¶åŸºç¡€æ¨èï¼‰

### ğŸ“š ç¬¬ä¸€é˜¶æ®µï¼šäº¤äº’å¼å…¥é—¨ï¼ˆå¿…ä¿®ï¼‰

> **âš ï¸ é‡è¦æç¤ºï¼šå¼ºçƒˆå»ºè®®ä» Jupyter Notebook æ•™ç¨‹å¼€å§‹å­¦ä¹ ï¼**

#### ğŸ¯ ä¸ºä»€ä¹ˆä» Jupyter å¼€å§‹ï¼Ÿ
- **äº¤äº’å¼å­¦ä¹ **ï¼šå³æ—¶çœ‹åˆ°ç»“æœï¼Œå¿«é€Ÿç†è§£æ¦‚å¿µ
- **å®˜æ–¹æœ€ä½³å®è·µ**ï¼šåŸºäº OpenAI å’Œ Anthropic å®˜æ–¹æ•™ç¨‹
- **æ¸è¿›å¼è®¾è®¡**ï¼šä»ç®€å•åˆ°å¤æ‚ï¼Œé€‚åˆé›¶åŸºç¡€å­¦ä¹ 
- **å®æ—¶è°ƒè¯•**ï¼šå¯ä»¥ä¿®æ”¹ä»£ç ç«‹å³éªŒè¯æ•ˆæœ

#### ğŸ“– å­¦ä¹ é¡ºåº
1. **ç¯å¢ƒé…ç½®å’Œå¿«é€Ÿå…¥é—¨**
   ```bash
   cd chapter02-llm-prompt/openai_prompt_jupyter/
   jupyter notebook 00_Tutorial_How-To.ipynb
   ```

2. **åŸºç¡€æ•™ç¨‹ç³»åˆ—**ï¼ˆæŒ‰é¡ºåºå­¦ä¹ ï¼‰
   - `01_Basic_Prompt_Structure.ipynb` - ğŸ”§ APIè°ƒç”¨å’ŒåŸºæœ¬ç»“æ„
   - `02_Being_Clear_and_Direct.ipynb` - ğŸ¯ æ¸…æ™°è¡¨è¾¾çš„é‡è¦æ€§
   - `03_Assigning_Roles_Role_Prompting.ipynb` - ğŸ­ è§’è‰²è®¾å®šæŠ€å·§

3. **è¿›é˜¶æŠ€å·§ç³»åˆ—**
   - `04_Separating_Data_and_Instructions.ipynb` - ğŸ“Š åˆ†ç¦»æ•°æ®å’ŒæŒ‡ä»¤
   - `05_Formatting_Output_and_Speaking_for_Claude.ipynb` - ğŸ“‹ è¾“å‡ºæ ¼å¼æ§åˆ¶
   - `06_Thinking_Step_by_Step.ipynb` - ğŸ§  æ€ç»´é“¾æŠ€æœ¯

4. **é«˜çº§åº”ç”¨ç³»åˆ—**
   - `07_Using_Examples_Few-Shot_Prompting.ipynb` - ğŸ“š å°‘æ ·æœ¬å­¦ä¹ 
   - `08_Avoiding_Hallucinations.ipynb` - âš ï¸ å‡å°‘é”™è¯¯ç”Ÿæˆ
   - `09_Complex_Prompts_from_Scratch.ipynb` - ğŸ—ï¸ å¤æ‚ç³»ç»Ÿæ„å»º
   - `10_Tool_Use.ipynb` - ğŸ”§ å‡½æ•°è°ƒç”¨å’Œå·¥å…·ä½¿ç”¨

### ğŸ› ï¸ ç¬¬äºŒé˜¶æ®µï¼šç³»ç»Ÿå®è·µï¼ˆé€‰ä¿®ï¼‰

å®Œæˆ Jupyter æ•™ç¨‹åï¼Œå¯ä»¥é€šè¿‡ç»Ÿä¸€æ¼”ç¤ºç³»ç»Ÿå·©å›ºå­¦ä¹ ï¼š

```bash
# è¿è¡Œç»Ÿä¸€æ¼”ç¤ºç³»ç»Ÿ
python run_demo.py
```

### ğŸš€ ç¬¬ä¸‰é˜¶æ®µï¼šé¡¹ç›®å®æˆ˜ï¼ˆè¿›é˜¶ï¼‰

æ ¹æ®éœ€æ±‚é€‰æ‹©å…·ä½“æ¨¡å—æ·±å…¥å­¦ä¹ å’Œå®è·µã€‚

## ğŸ“‹ ç¯å¢ƒå‡†å¤‡

### 1. å¿«é€Ÿå¼€å§‹ï¼ˆæ¨èï¼‰

#### ä½¿ç”¨ Conda ç¯å¢ƒç®¡ç†
```bash
# è¿›å…¥æ¨¡å—ç›®å½•
cd chapter02-llm-prompt

# åˆ›å»ºå¹¶æ¿€æ´»ç¯å¢ƒ
conda env create -f environment.yml
conda activate llm101-prompt

# é…ç½®APIå¯†é’¥ï¼ˆé€‰æ‹©å…¶ä¸€ï¼‰
export OPENAI_API_KEY="your-openai-api-key"
export DEEPSEEK_API_KEY="your-deepseek-api-key"

# å¯åŠ¨ Jupyter æ•™ç¨‹
cd openai_prompt_jupyter/
jupyter notebook
```

#### ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ
```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Linux/Mac
# æˆ– venv\Scripts\activate  # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®APIå¯†é’¥
export OPENAI_API_KEY="your-openai-api-key"

# å¯åŠ¨æ•™ç¨‹
cd openai_prompt_jupyter/
jupyter notebook
```

### 2. API å¯†é’¥è·å–

#### OpenAI API å¯†é’¥
1. è®¿é—® [OpenAI Platform](https://platform.openai.com/)
2. æ³¨å†Œ/ç™»å½•è´¦æˆ·
3. å‰å¾€ API Keys é¡µé¢åˆ›å»ºå¯†é’¥
4. è®¾ç½®ç¯å¢ƒå˜é‡æˆ–åœ¨ notebook ä¸­é…ç½®

#### DeepSeek API å¯†é’¥ï¼ˆå¯é€‰ï¼‰
1. è®¿é—® [DeepSeek Platform](https://platform.deepseek.com/)
2. æ³¨å†Œå¹¶è·å–å…è´¹ API å¯†é’¥

#### å›½å†…ç”¨æˆ·ä»£ç†ï¼ˆå¯é€‰ï¼‰
```bash
# ä½¿ç”¨å›½å†…ä»£ç†æœåŠ¡
export OPENAI_BASE_URL="https://vip.apiyi.com/v1"
```

### 3. ç¯å¢ƒéªŒè¯

è¿è¡Œç¯å¢ƒæ£€æŸ¥ï¼š
```bash
python -c "
import openai
print('âœ… OpenAI SDK å·²å®‰è£…')
try:
    import os
    if os.getenv('OPENAI_API_KEY') or os.getenv('DEEPSEEK_API_KEY'):
        print('âœ… API å¯†é’¥å·²é…ç½®')
    else:
        print('âš ï¸ éœ€è¦é…ç½® API å¯†é’¥')
except:
    print('âŒ é…ç½®æ£€æŸ¥å¤±è´¥')
"
```

## ğŸ“– ç†è®ºåŸºç¡€

### 1. å¤§æ¨¡å‹æ¨ç†åŸºç¡€

#### æ–‡æœ¬ç”ŸæˆåŸç†
- **è‡ªå›å½’ç”Ÿæˆ**ï¼šæ¨¡å‹é€ä¸ªé¢„æµ‹ä¸‹ä¸€ä¸ªè¯ï¼ˆtokenï¼‰
- **æ¡ä»¶ç”Ÿæˆ**ï¼šåŸºäºå‰æ–‡ä¸Šä¸‹æ–‡ç”Ÿæˆåç»­å†…å®¹
- **Tokenization**ï¼šå°†æ–‡æœ¬è½¬æ¢ä¸ºæ¨¡å‹å¯ç†è§£çš„æ•°å­—åºåˆ—
- **Embedding**ï¼šè¯å‘é‡è¡¨ç¤ºï¼Œåœ¨é«˜ç»´è¯­ä¹‰ç©ºé—´ä¸­ç¼–ç å«ä¹‰

#### è§£ç ç­–ç•¥è¯¦è§£
```python
# è´ªå©ªè§£ç ï¼šæ¯æ¬¡é€‰æ‹©æ¦‚ç‡æœ€é«˜çš„token
response = client.chat.completions.create(
    model="gpt-4o",
    messages=[{"role": "user", "content": "ä½ å¥½"}],
    temperature=0.0  # ç¡®å®šæ€§è¾“å‡º
)

# éšæœºé‡‡æ ·ï¼šå¢åŠ åˆ›é€ æ€§
response = client.chat.completions.create(
    model="gpt-4o", 
    messages=[{"role": "user", "content": "å†™ä¸€é¦–è¯—"}],
    temperature=0.8,  # æé«˜éšæœºæ€§
    top_p=0.9        # æ ¸é‡‡æ ·
)
```

### 2. æç¤ºè¯å·¥ç¨‹æ ¸å¿ƒæ¦‚å¿µ

#### åŸºç¡€è®¾è®¡åŸåˆ™
1. **æ¸…æ™°å…·ä½“**ï¼šæ˜ç¡®è¡¨è¾¾ä»»åŠ¡è¦æ±‚ï¼Œé¿å…æ­§ä¹‰
2. **è§’è‰²è®¾å®š**ï¼šä¸ºAIåˆ†é…ä¸“ä¸šè§’è‰²å¢å¼ºä¸“ä¸šæ€§
3. **æ ¼å¼åŒ–è¾“å‡º**ï¼šæŒ‡å®šæ¸…æ™°çš„è¾“å‡ºæ ¼å¼å’Œç»“æ„
4. **ä¸Šä¸‹æ–‡ä¸°å¯Œ**ï¼šæä¾›å……è¶³çš„èƒŒæ™¯ä¿¡æ¯å’Œç¤ºä¾‹

#### å­¦ä¹ èŒƒå¼å¯¹æ¯”
```python
# Zero-shotï¼šæ— ç¤ºä¾‹ç›´æ¥æ‰§è¡Œ
prompt = "åˆ†æè¿™ç¯‡æ–‡ç« çš„æƒ…æ„Ÿå€¾å‘ï¼š[æ–‡ç« å†…å®¹]"

# Few-shotï¼šæä¾›ç¤ºä¾‹
prompt = """
æƒ…æ„Ÿåˆ†æç¤ºä¾‹ï¼š
æ–‡ç« ï¼š"ä»Šå¤©å¤©æ°”çœŸå¥½ï¼" â†’ æƒ…æ„Ÿï¼šç§¯æ
æ–‡ç« ï¼š"å·¥ä½œå‹åŠ›å¤ªå¤§äº†ã€‚" â†’ æƒ…æ„Ÿï¼šæ¶ˆæ

è¯·åˆ†æï¼š[ç›®æ ‡æ–‡ç« ] â†’ æƒ…æ„Ÿï¼š
"""

# Chain-of-Thoughtï¼šé€æ­¥æ¨ç†
prompt = """
è¯·é€æ­¥åˆ†æè¿™ä¸ªé—®é¢˜ï¼š
1. é¦–å…ˆç†è§£é—®é¢˜çš„æ ¸å¿ƒ
2. åˆ—å‡ºç›¸å…³è¦ç´ 
3. é€æ­¥æ¨ç†è¿‡ç¨‹
4. å¾—å‡ºæœ€ç»ˆç»“è®º

é—®é¢˜ï¼š[å…·ä½“é—®é¢˜]
"""
```

## ğŸ› ï¸ æ ¸å¿ƒå·¥å…·å’Œä»£ç åˆ†æ

### 1. run_demo.py ç»Ÿä¸€æ¼”ç¤ºç³»ç»Ÿ

è¿™æ˜¯é¡¹ç›®çš„ç»Ÿä¸€å…¥å£ï¼Œæä¾›äº†å®Œæ•´çš„èœå•ç³»ç»Ÿæ¥æ¼”ç¤ºå„ç§æç¤ºè¯æŠ€æœ¯ï¼š

```python
# ä¸»è¦åŠŸèƒ½æ¨¡å—
def main():
    """ä¸»å‡½æ•° - æä¾›äº¤äº’å¼èœå•"""
    print_banner()          # æ˜¾ç¤ºæ¬¢è¿ç•Œé¢
    
    if not check_environment():  # æ£€æŸ¥ç¯å¢ƒé…ç½®
        return
    
    while True:
        print_menu()        # æ˜¾ç¤ºåŠŸèƒ½èœå•
        choice = input("è¯·é€‰æ‹©æ¼”ç¤ºæ¨¡å— (0-10): ")
        
        # æ ¹æ®é€‰æ‹©æ‰§è¡Œå¯¹åº”åŠŸèƒ½
        if choice == "1":
            run_basic_demo()           # åŸºç¡€æç¤ºè¯æ¼”ç¤º
        elif choice == "2": 
            run_cot_demo()             # æ€ç»´é“¾æŠ€æœ¯
        elif choice == "4":
            run_function_calling_demo() # å‡½æ•°è°ƒç”¨
        # ... å…¶ä»–é€‰é¡¹
```

#### å…³é”®è®¾è®¡äº®ç‚¹ï¼š
1. **ç¯å¢ƒæ£€æµ‹**ï¼šè‡ªåŠ¨æ£€æŸ¥APIå¯†é’¥å’Œä¾èµ–åŒ…
2. **æ¨¡å—åŒ–è®¾è®¡**ï¼šæ¯ä¸ªåŠŸèƒ½ç‹¬ç«‹å¯æµ‹è¯•
3. **é”™è¯¯å¤„ç†**ï¼šå‹å¥½çš„é”™è¯¯æç¤ºå’Œæ¢å¤æœºåˆ¶
4. **ç”¨æˆ·ä½“éªŒ**ï¼šæ¸…æ™°çš„èœå•å¯¼èˆªå’Œè¿›åº¦æç¤º

### 2. æ¨¡æ¿ç³»ç»Ÿåˆ†æ

```python
# æ¨¡æ¿åº”ç”¨ç¤ºä¾‹ï¼ˆæ¥è‡ª run_demo.pyï¼‰
def run_template_demo():
    """æ¼”ç¤ºæ¨¡æ¿å¼•æ“çš„ä½¿ç”¨"""
    import yaml
    from jinja2 import Template
    
    # åŠ è½½YAMLæ¨¡æ¿é…ç½®
    template_file = Path("templates/business/marketing_templates.yaml")
    with open(template_file, 'r', encoding='utf-8') as f:
        templates = yaml.safe_load(f)
    
    # é€‰æ‹©äº§å“æè¿°æ¨¡æ¿
    product_template = templates['product_description']
    jinja_template = Template(product_template['template'])
    
    # å®šä¹‰å˜é‡æ•°æ®
    variables = {
        'product_name': 'æ™ºèƒ½è¿åŠ¨æ‰‹è¡¨',
        'product_features': 'å¿ƒç‡ç›‘æµ‹ã€GPSå®šä½ã€è¿åŠ¨è®°å½•',
        'target_audience': 'è¿åŠ¨çˆ±å¥½è€…å’Œå¥åº·å…³æ³¨è€…',
        'unique_selling_point': '7å¤©ç»­èˆªã€50ç±³é˜²æ°´',
        'price_range': '1999-2999å…ƒ'
    }
    
    # æ¸²æŸ“æœ€ç»ˆæç¤ºè¯
    rendered_prompt = jinja_template.render(**variables)
    
    # è°ƒç”¨LLMç”Ÿæˆå†…å®¹
    result = demo.call_llm([
        {"role": "system", "content": "ä½ æ˜¯ä¸“ä¸šçš„ç”µå•†æ–‡æ¡ˆä¸“å®¶ã€‚"},
        {"role": "user", "content": rendered_prompt}
    ])
```

### 3. æ€§èƒ½å¯¹æ¯”ç³»ç»Ÿ

```python
def run_performance_comparison():
    """æ€§èƒ½å¯¹æ¯”åˆ†æä¸åŒæç¤ºè¯æŠ€æœ¯çš„æ•ˆæœ"""
    results = demo.demo_performance_comparison()
    
    print("\nğŸ“Š è¯¦ç»†æ€§èƒ½æŠ¥å‘Šï¼š")
    for technique, data in results.items():
        if "error" not in data:
            efficiency = data['word_count'] / data['execution_time']
            print(f"ğŸ” {technique}:")
            print(f"  â±ï¸  æ‰§è¡Œæ—¶é—´: {data['execution_time']:.3f} ç§’")
            print(f"  ğŸ“ è¾“å‡ºå­—æ•°: {data['word_count']} å­—")
            print(f"  âš¡ ç”Ÿæˆæ•ˆç‡: {efficiency:.1f} å­—/ç§’")
            print(f"  ğŸ“„ å†…å®¹é¢„è§ˆ: {data['result_preview']}")
```

## ğŸ’¡ é«˜çº§æç¤ºè¯æŠ€å·§

### 1. æ€ç»´é“¾æŠ€æœ¯ï¼ˆChain of Thoughtï¼‰

```python
def chain_of_thought_example():
    """æ€ç»´é“¾æ¨ç†ç¤ºä¾‹"""
    prompt = """
    è¯·ç”¨æ€ç»´é“¾æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ï¼š
    
    é—®é¢˜ï¼šä¸€ä¸ªç­çº§æœ‰30åå­¦ç”Ÿï¼Œå…¶ä¸­60%æ˜¯å¥³ç”Ÿã€‚å¦‚æœåˆè½¬æ¥5åç”·ç”Ÿï¼Œç°åœ¨å¥³ç”Ÿå å…¨ç­çš„ç™¾åˆ†æ¯”æ˜¯å¤šå°‘ï¼Ÿ
    
    æ€ç»´æ­¥éª¤ï¼š
    1. é¦–å…ˆè®¡ç®—åŸæ¥çš„å¥³ç”Ÿäººæ•°
    2. ç¡®å®šåŸæ¥çš„ç”·ç”Ÿäººæ•°
    3. è®¡ç®—è½¬å…¥ç”·ç”Ÿåçš„æ€»äººæ•°
    4. è®¡ç®—å¥³ç”Ÿå æ–°æ€»æ•°çš„ç™¾åˆ†æ¯”
    
    è¯·æŒ‰æ­¥éª¤è§£ç­”ï¼š
    """
    
    return prompt
```

### 2. è‡ªæˆ‘åæ€æŠ€æœ¯

```python
def self_reflection_prompt(initial_answer, question):
    """è‡ªæˆ‘åæ€æç¤ºè¯ç”Ÿæˆå™¨"""
    reflection_prompt = f"""
    åŸé—®é¢˜ï¼š{question}
    æˆ‘çš„åˆå§‹å›ç­”ï¼š{initial_answer}
    
    ç°åœ¨è¯·ä»ä»¥ä¸‹è§’åº¦å®¡è§†è¿™ä¸ªå›ç­”ï¼š
    1. å‡†ç¡®æ€§æ£€æŸ¥ï¼šå›ç­”æ˜¯å¦ç¬¦åˆäº‹å®ï¼Ÿ
    2. å®Œæ•´æ€§æ£€æŸ¥ï¼šæ˜¯å¦é—æ¼é‡è¦ä¿¡æ¯ï¼Ÿ
    3. é€»è¾‘æ€§æ£€æŸ¥ï¼šæ¨ç†è¿‡ç¨‹æ˜¯å¦åˆç†ï¼Ÿ
    4. æ¸…æ™°åº¦æ£€æŸ¥ï¼šè¡¨è¾¾æ˜¯å¦å®¹æ˜“ç†è§£ï¼Ÿ
    
    åŸºäºä»¥ä¸Šæ£€æŸ¥ï¼Œè¯·æä¾›æ”¹è¿›åçš„æœ€ç»ˆç­”æ¡ˆï¼š
    """
    return reflection_prompt
```

### 3. ä¸­æ–‡æç¤ºè¯æœ€ä½³å®è·µæ¡†æ¶

```python
def chinese_prompt_template():
    """ä¸­æ–‡æç¤ºè¯æ ‡å‡†æ¨¡æ¿"""
    template = """
ã€èº«ä»½è®¾å®šã€‘
ä½ æ˜¯ä¸€å{role}ï¼Œæ‹¥æœ‰{experience}å¹´çš„{field}ä¸“ä¸šç»éªŒã€‚

ã€å‚è€ƒä¿¡æ¯ã€‘
```
{reference_context}
```

ã€æ ¸å¿ƒä»»åŠ¡ã€‘
{main_task}

ã€è¾“å‡ºè¦æ±‚ã€‘
1. æ ¼å¼ï¼š{output_format}
2. é•¿åº¦ï¼š{length_requirement}  
3. é£æ ¼ï¼š{style_requirement}
4. ç‰¹æ®Šè¦æ±‚ï¼š{special_requirements}

ã€å·¥ä½œæµç¨‹ã€‘
1. {step_1}
2. {step_2}
3. {step_3}

ã€è´¨é‡æ ‡å‡†ã€‘
- {quality_criterion_1}
- {quality_criterion_2}
- {quality_criterion_3}

ã€å¼€å§‹æ‰§è¡Œã€‘
ç”¨æˆ·è¾“å…¥ï¼š{user_input}

è¯·æŒ‰ç…§ä»¥ä¸Šè¦æ±‚å®Œæˆä»»åŠ¡ï¼š
"""
    return template
```


## ğŸ“Š æ€§èƒ½ä¼˜åŒ–æŒ‡å—

### 1. æç¤ºè¯é•¿åº¦ä¼˜åŒ–

```python
# âŒ å†—é•¿ä½æ•ˆçš„æç¤ºè¯
long_prompt = """
è¯·ä½ ä½œä¸ºä¸€ä¸ªéå¸¸ä¸“ä¸šçš„ã€æœ‰ç€å¤šå¹´ç»éªŒçš„ã€æ·±è°™å„ç§å†™ä½œæŠ€å·§çš„ã€
äº†è§£å„ç§æ–‡æ¡ˆå¥—è·¯çš„ã€èƒ½å¤Ÿå‡†ç¡®æŠŠæ¡ç”¨æˆ·å¿ƒç†çš„è¥é”€ä¸“å®¶ï¼Œ
ä¸ºæˆ‘ä»¬çš„äº§å“å†™ä¸€æ®µéå¸¸å¸å¼•äººçš„ã€èƒ½å¤Ÿæ‰“åŠ¨ç”¨æˆ·çš„ã€
è®©ç”¨æˆ·äº§ç”Ÿè´­ä¹°æ¬²æœ›çš„äº§å“ä»‹ç»æ–‡æ¡ˆ...
"""

# âœ… ç®€æ´é«˜æ•ˆçš„æç¤ºè¯  
efficient_prompt = """
è§’è‰²ï¼šèµ„æ·±è¥é”€ä¸“å®¶
ä»»åŠ¡ï¼šä¸ºäº§å“å†™å¸å¼•äººçš„ä»‹ç»æ–‡æ¡ˆ
è¦æ±‚ï¼šçªå‡ºå–ç‚¹ï¼Œæ¿€å‘è´­ä¹°æ¬²
äº§å“ï¼š[äº§å“ä¿¡æ¯]
"""
```

### 2. æ¸©åº¦å‚æ•°è°ƒä¼˜

```python
# ä¸åŒä»»åŠ¡çš„æ¸©åº¦è®¾ç½®å»ºè®®
task_temperature_guide = {
    "äº‹å®æŸ¥è¯¢": 0.0,      # éœ€è¦å‡†ç¡®æ€§
    "ä»£ç ç”Ÿæˆ": 0.1,      # éœ€è¦ç²¾ç¡®æ€§
    "æ–‡æ¡£å†™ä½œ": 0.3,      # å¹³è¡¡å‡†ç¡®æ€§å’Œæµç•…æ€§
    "åˆ›æ„å†™ä½œ": 0.7,      # éœ€è¦åˆ›é€ æ€§
    "å¤´è„‘é£æš´": 0.9       # æœ€å¤§åŒ–åˆ›æ„
}
```

### 3. æ‰¹é‡å¤„ç†ä¼˜åŒ–

```python
def batch_process_prompts(prompts, batch_size=5):
    """æ‰¹é‡å¤„ç†æç¤ºè¯ä»¥æé«˜æ•ˆç‡"""
    results = []
    for i in range(0, len(prompts), batch_size):
        batch = prompts[i:i+batch_size]
        # å¹¶å‘å¤„ç†ä¸€æ‰¹æç¤ºè¯
        batch_results = process_concurrent(batch)
        results.extend(batch_results)
    return results
```

## ğŸš€ è¿›é˜¶å­¦ä¹ èµ„æº

### å®˜æ–¹æ–‡æ¡£å’Œæ•™ç¨‹
- [OpenAI æç¤ºè¯å·¥ç¨‹æŒ‡å—](https://platform.openai.com/docs/guides/prompt-engineering)
- [Anthropic Claude æç¤ºè¯æ•™ç¨‹](https://docs.anthropic.com/zh-CN/docs/build-with-claude/prompt-engineering/overview)
- [OpenAI Cookbook](https://github.com/openai/openai-cookbook)

### å­¦æœ¯è®ºæ–‡
- [Chain-of-Thought Prompting](https://arxiv.org/abs/2201.11903)
- [Self-Reflection Techniques](https://arxiv.org/abs/2303.11366)
- [Few-Shot Learning](https://arxiv.org/abs/2005.14165)

### å®ç”¨å·¥å…·
- [ç²¾é€‰ AI æç¤ºè¯åº“](https://www.waytoagi.com/zh/prompts)
- [LangChain æç¤ºè¯æ¨¡æ¿](https://python.langchain.com/api_reference/core/prompts.html)
- [æç¤ºè¯è°ƒä¼˜æŒ‡å—](https://open.dingtalk.com/document/ai-dev/ho-to-tune-prompt-words)

## ğŸ“ å­¦ä¹ æˆæœæ£€éªŒ

å®Œæˆæœ¬æ¨¡å—å­¦ä¹ åï¼Œä½ åº”è¯¥èƒ½å¤Ÿï¼š

### åŸºç¡€èƒ½åŠ›
- âœ… ç†è§£å¤§æ¨¡å‹çš„åŸºæœ¬å·¥ä½œåŸç†
- âœ… ç†Ÿç»ƒä½¿ç”¨ OpenAI API è¿›è¡Œæ¨¡å‹è°ƒç”¨
- âœ… è®¾è®¡æ¸…æ™°æœ‰æ•ˆçš„åŸºç¡€æç¤ºè¯
- âœ… è¿ç”¨è§’è‰²è®¾å®šå’Œæ ¼å¼åŒ–æŠ€å·§

### è¿›é˜¶èƒ½åŠ›
- âœ… åº”ç”¨æ€ç»´é“¾å’Œè‡ªæˆ‘åæ€æŠ€æœ¯
- âœ… å®ç°å‡½æ•°è°ƒç”¨å’Œå·¥å…·ä½¿ç”¨
- âœ… æ„å»ºå¤æ‚çš„å¯¹è¯å’Œæ¨ç†ç³»ç»Ÿ
- âœ… ä¼˜åŒ–æç¤ºè¯æ€§èƒ½å’Œæˆæœ¬æ•ˆç›Š

### å®æˆ˜èƒ½åŠ›
- âœ… å»ºç«‹ä¸ªäººçš„æç¤ºè¯ç®¡ç†ç³»ç»Ÿ
- âœ… å¼€å‘ç‰¹å®šé¢†åŸŸçš„AIåº”ç”¨
- âœ… è¯„ä¼°å’Œæ”¹è¿›æç¤ºè¯æ•ˆæœ
- âœ… è§£å†³å®é™…ä¸šåŠ¡é—®é¢˜

## ğŸ†˜ å¸¸è§é—®é¢˜è§£ç­”

### Q1: API è°ƒç”¨å¤±è´¥æ€ä¹ˆåŠï¼Ÿ
**A:** æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. API å¯†é’¥æ˜¯å¦æ­£ç¡®è®¾ç½®
2. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
3. è´¦æˆ·ä½™é¢æ˜¯å¦å……è¶³
4. è¯·æ±‚æ ¼å¼æ˜¯å¦æ­£ç¡®

### Q2: å¦‚ä½•æ§åˆ¶ç”Ÿæˆæˆæœ¬ï¼Ÿ
**A:** å‡ ä¸ªæœ‰æ•ˆæ–¹æ³•ï¼š
1. ä½¿ç”¨ `gpt-4o-mini` ç­‰ä¾¿å®œæ¨¡å‹
2. è®¾ç½®åˆç†çš„ `max_tokens` é™åˆ¶
3. ä¼˜åŒ–æç¤ºè¯é•¿åº¦
4. å®ç°ç»“æœç¼“å­˜æœºåˆ¶

### Q3: æç¤ºè¯æ•ˆæœä¸ç†æƒ³æ€ä¹ˆä¼˜åŒ–ï¼Ÿ
**A:** ç³»ç»ŸåŒ–ä¼˜åŒ–æµç¨‹ï¼š
1. æ˜ç¡®å…·ä½“é—®é¢˜ï¼ˆå¤ªæ¨¡ç³Š/å¤ªå†—é•¿/ä¸å‡†ç¡®ï¼‰
2. åº”ç”¨å¯¹åº”æŠ€å·§ï¼ˆè§’è‰²è®¾å®š/ç¤ºä¾‹å¼•å¯¼/æ€ç»´é“¾ï¼‰
3. A/B æµ‹è¯•ä¸åŒç‰ˆæœ¬
4. æ ¹æ®ç»“æœè¿­ä»£æ”¹è¿›

### Q4: å¦‚ä½•é¿å…æ¨¡å‹å¹»è§‰ï¼Ÿ
**A:** æœ‰æ•ˆç­–ç•¥åŒ…æ‹¬ï¼š
1. è¦æ±‚å¼•ç”¨å…·ä½“ä¿¡æ¯æº
2. è®¾ç½®ç¡®è®¤å’ŒéªŒè¯æ­¥éª¤
3. ä½¿ç”¨è¾ƒä½çš„æ¸©åº¦å‚æ•°
4. å®æ–½å¤šè½®éªŒè¯æœºåˆ¶

---

ğŸ‰ **å¼€å§‹ä½ çš„å¤§æ¨¡å‹æç¤ºè¯å·¥ç¨‹ä¹‹æ—…å§ï¼** ä» `openai_prompt_jupyter/00_Tutorial_How-To.ipynb` å¼€å§‹ï¼Œé€æ­¥æŒæ¡è¿™é¡¹æ”¹å˜ä¸–ç•Œçš„æŠ€æœ¯ï¼ 


## å‚è€ƒ
- [Kiroçš„åŸå§‹Prompt](https://gist.github.com/CypherpunkSamurai/ad7be9c3ea07cf4fe55053323012ab4d)